!function(){function a(a,b,c){function d(){g.forEach(function(b){b&&("/"===b[0]&&(b=b.substr(1)),b=a.root+b,".js"===b.substr(-3)?(e=document.createElement("script"),e.type="text/javascript",e.src=b+"?"+h,e.async=!1):(e=document.createElement("link"),e.rel="stylesheet",e.href=b+"?"+h,e.type="text/css"),f.appendChild(e))})}if(b&&setTimeout(function(){window.BOOTSTRAP_OK||(console.warn("BOOTSTRAP_OK !== true; Resetting to original manifest.json..."),localStorage.removeItem("manifest"),location.reload())},c),!a.load)return void console.error("Manifest has nothing to load (manifest.load is empty).",a);var e,f=document.getElementsByTagName("head")[0],g=a.load.concat(),h=Date.now();a.root=a.root||"./",a.root.length>0&&"/"!==a.root[a.root.length-1]&&(a.root+="/"),b||localStorage.setItem("manifest",JSON.stringify(a)),"undefined"!=typeof window.cordova?document.addEventListener("deviceready",d,!1):d(),window.Manifest=a}window.pegasus=function(a,b){return b=new XMLHttpRequest,b.open("GET",a),a=[],b.onreadystatechange=b.then=function(c,d,e){c.call&&(a=[c,d]),4==b.readyState&&(e=a[0|b.status/400],e&&e(200===b.status||0===b.status?JSON.parse(b.responseText):b))},b.send(),b},window.Manifest={};var b=JSON.parse(localStorage.getItem("manifest")),c=document.querySelector("script[manifest]");if(b)a(b,!0,c.getAttribute("timeout")||1e4);else{var d=(c?c.getAttribute("manifest"):null)||"manifest.json";pegasus(d).then(a,function(a){console.error("Could not download "+d+": "+a.status)})}}(),function(){function a(){d.check().then(function(){return d.download()}).then(function(){return d.update()},function(a){console.error("Auto-update error:",a)})}function b(){document.webkitHidden||a()}var c,d,e,f,g="undefined"!=typeof cordova;if(e=document.querySelector("script[server]"),e&&(f=e.getAttribute("server")),!f)throw new Error('Add a "server" attribute to the bootstrap.js script!');c=new CordovaPromiseFS({persistent:g,Promise:Promise}),d=new CordovaAppLoader({fs:c,localRoot:"app",serverRoot:f,mode:"mirror",cacheBuster:!0}),a(),c.deviceready.then(function(){document.addEventListener("resume",a)}),document.addEventListener("webkitvisibilitychange",b,!1)}();